%li.nav-item{ class: navbar_class(:home) }
  = link_to('Home', :pages_home, class: 'nav-link')

%li.nav-item{ class: navbar_class(:users) }
  = link_to('Users', :users, class: 'nav-link')

%li.nav-item{ class: navbar_class(:teams) }
  = link_to('Teams', :teams, class: 'nav-link')

%li.nav-item{ class: navbar_class(:forums) }
  = link_to('Forums', :forums, class: 'nav-link')

%li.nav-item{ class: navbar_class(:leagues) }
  = link_to('Leagues', :leagues, class: 'nav-link')

%li.nav-item.dropdown
  %a.nav-link.dropdown-toggle{ role: :button, data: { toggle: :dropdown } }
    Rules
    %span.caret

  %ul.dropdown-menu.nav-dropdown-menu#rules-dropdown-menu
    .dropdown-header
      Competitive Rulesets

    %li= link_to('Global Ruleset', 'https://docs.ozfortress.com/rules/global', class: 'dropdown-item')
    %li= link_to('Sixes Ruleset', 'https://docs.ozfortress.com/rules/sixes', class: 'dropdown-item')
    %li= link_to('Highlander Ruleset', 'https://docs.ozfortress.com/rules/highlander', class: 'dropdown-item')
    %li= link_to('LAN Ruleset', 'https://docs.ozfortress.com/rules/lan/index', class: 'dropdown-item')

    .dropdown-divider

    .dropdown-header
      Behaviour

    %li
      = link_to('Community Guidelines', 'https://docs.ozfortress.com/rules/community_guidelines',
                class: 'dropdown-item')
    %li
      = link_to('Player Behaviour Infractions', 'https://docs.ozfortress.com/rules/infractions',
                class: 'dropdown-item')
    %li= link_to('League Penalties', 'https://docs.ozfortress.com/rules/penalties', class: 'dropdown-item')

    :javascript
      // Prevent inside clicks from dismissing dropdown
      $("#rules-dropdown-menu").click(function(e) {
        e.stopPropagation()
      })


%li.nav-item.dropdown
  %a.nav-link.dropdown-toggle{ role: :button, data: { toggle: :dropdown } }
    Help
    %span.caret

  %ul.dropdown-menu.nav-dropdown-menu#help-dropdown-menu
    .dropdown-header
      General Info

    %li= link_to('Staff', 'https://docs.ozfortress.com/info/staff', class: 'dropdown-item')
    %li= link_to('POV Demo Recording', 'https://docs.ozfortress.com/guides/pov_demo_recording/', class: 'dropdown-item')
    %li= link_to('Anti-Cheat and You', 'https://docs.ozfortress.com/info/anticheat_and_you', class: 'dropdown-item')
    %li= link_to('Ban Appeals', 'https://forms.gle/WmkpBvb4AFEc1cxaA', class: 'dropdown-item')

    .dropdown-divider

    .dropdown-header
      Guides

    %li= link_to('Book a Server', 'https://docs.ozfortress.com/guides/book_a_server', class: 'dropdown-item')
    %li= link_to('Newbie Guide', 'https://docs.ozfortress.com/guides/newbie_guide', class: 'dropdown-item')

    .dropdown-divider

    .dropdown-header
      Other

    %li
      = link_to('Verify Rosters tool', 'https://verify.ozfortress.com',
                target: :_blank, rel: :noopener, class: 'dropdown-item')
    %li
      = link_to('Support & Reporting', 'https://docs.ozfortress.com/support/landing/',
                target: :_blank, rel: :noopener, class: 'dropdown-item')

    :javascript
      // Prevent inside clicks from dismissing dropdown
      $("#help-dropdown-menu").click(function(e) {
        e.stopPropagation()
      })

%li.nav-item
  = link_to('Server Booking', 'https://au.serveme.tf', target: :_blank, rel: :noopener, class: 'nav-link')

%li.nav-item
  = link_to('Docs', 'https://docs.ozfortress.com', target: :_blank, rel: :noopener, class: 'nav-link')

- if user_signed_in? && current_user.admin?
  %li.nav-item{ class: navbar_class(:admin) }
    = link_to('Admin', :admin, class: 'nav-link')
